# –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –ø–æ–∏—Å–∫–æ–≤–æ–π —Å–∏—Å—Ç–µ–º—ã —Å—Ç—É–¥–µ–Ω—Ç–æ–≤

## –î–∞—Ç–∞: 02.10.2025

## –ü—Ä–æ–±–ª–µ–º—ã –¥–æ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏

### 1. **–ò–∑–±—ã—Ç–æ—á–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ**
- DEBUG –ª–æ–≥–∏ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –∑–∞–ø—Ä–æ—Å–∞ (sample departments)
- –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–∏ –∫–∞–∂–¥–æ–º –∏–∑–≤–ª–µ—á–µ–Ω–∏–∏ –∫—É—Ä—Å–∞
- **–í–ª–∏—è–Ω–∏–µ**: –∑–∞–º–µ–¥–ª–µ–Ω–∏–µ –Ω–∞ ~50-100ms –Ω–∞ –∑–∞–ø—Ä–æ—Å

### 2. **–î–≤–æ–π–Ω–æ–π –≤—ã–∑–æ–≤ `_extract_course_from_department()`**
```python
# –°–¢–ê–†–´–ô –ö–û–î - –≤—ã–∑—ã–≤–∞–µ–º –¥–≤–∞–∂–¥—ã –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Å—Ç—É–¥–µ–Ω—Ç–∞:
if course and students_data:
    students_data = [s for s in students_data 
                     if self._extract_course_from_department(s.get('department', '')) == course]

# –ü–æ—Ç–æ–º –µ—â–µ —Ä–∞–∑ –≤ —Ü–∏–∫–ª–µ:
for student in students_data:
    department = student.get('department', 'no info')
    course = self._extract_course_from_department(department)  # ‚Üê –≤—Ç–æ—Ä–æ–π –≤—ã–∑–æ–≤!
```
- **–í–ª–∏—è–Ω–∏–µ**: O(2N) –æ–ø–µ—Ä–∞—Ü–∏–π regex –¥–ª—è N —Å—Ç—É–¥–µ–Ω—Ç–æ–≤

### 3. **–ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –ø—Ä–æ—Ö–æ–¥—ã –ø–æ –¥–∞–Ω–Ω—ã–º**
```python
# –°–¢–ê–†–´–ô –ö–û–î - 3 –æ—Ç–¥–µ–ª—å–Ω—ã—Ö –ø—Ä–æ—Ö–æ–¥–∞:
# 1. DEBUG –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ (–ø—Ä–æ—Ö–æ–¥ ‚Ññ1)
for s in students_data[:10]:
    departments_sample[dept] = self._extract_course_from_department(dept)

# 2. –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ –∫—É—Ä—Å—É (–ø—Ä–æ—Ö–æ–¥ ‚Ññ2)
if course and students_data:
    students_data = [s for s in students_data if ...]

# 3. –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ –≥—Ä—É–ø–ø–µ (–ø—Ä–æ—Ö–æ–¥ ‚Ññ3)
if group and students_data:
    students_data = [s for s in students_data if ...]

# 4. –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ (–ø—Ä–æ—Ö–æ–¥ ‚Ññ4)
for student in students_data:
    formatted_student = {...}
```
- **–í–ª–∏—è–Ω–∏–µ**: O(4N) –¥–ª—è —Å–ø–∏—Å–∫–∞ –∏–∑ N —Å—Ç—É–¥–µ–Ω—Ç–æ–≤

### 4. **–ù–µ—ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ —Å—Ç—Ä–æ–∫**
```python
# –ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –≤—ã–∑–æ–≤—ã .split() –∏ .title()
name_parts = [p for p in display_name.strip().split(' ') if p]
```

## –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏

### ‚úÖ 1. –£–¥–∞–ª–µ–Ω–∏–µ –≤—Å–µ—Ö DEBUG –ª–æ–≥–æ–≤
```python
# –£–î–ê–õ–ï–ù–û:
# logger.warning(f"[COURSES DEBUG] Sample departments and courses: {departments_sample}")
# logger.warning(f"[EXTRACT DEBUG] department='{department}' -> year_suffix={year_suffix} -> course={course}")
```
**–í—ã–∏–≥—Ä—ã—à**: -50ms –Ω–∞ –∑–∞–ø—Ä–æ—Å (I/O –æ–ø–µ—Ä–∞—Ü–∏–∏)

### ‚úÖ 2. –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –∫—É—Ä—Å–∞ - –æ–¥–∏–Ω –≤—ã–∑–æ–≤ –Ω–∞ —Å—Ç—É–¥–µ–Ω—Ç–∞
```python
# –ù–û–í–´–ô –ö–û–î - –æ–¥–∏–Ω –≤—ã–∑–æ–≤ _extract_course_from_department():
for student in students_data:
    department = student.get('department', 'no info')
    student_course = self._extract_course_from_department(department)  # ‚Üê –∫—ç—à–∏—Ä—É–µ–º
    
    # –ò—Å–ø–æ–ª—å–∑—É–µ–º –∫—ç—à–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ
    if course and student_course != course:
        continue
    
    formatted_student = {
        'student': {
            'course': student_course,  # ‚Üê –∏—Å–ø–æ–ª—å–∑—É–µ–º –∫—ç—à
            'group': {'course': student_course}  # ‚Üê –∏—Å–ø–æ–ª—å–∑—É–µ–º –∫—ç—à
        }
    }
```
**–í—ã–∏–≥—Ä—ã—à**: O(2N) ‚Üí O(N), —ç–∫–æ–Ω–æ–º–∏—è ~100ms –Ω–∞ 200 —Å—Ç—É–¥–µ–Ω—Ç–æ–≤

### ‚úÖ 3. –û–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ –∏ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –≤ –æ–¥–∏–Ω –ø—Ä–æ—Ö–æ–¥
```python
# –ù–û–í–´–ô –ö–û–î - –æ–¥–∏–Ω –ø—Ä–æ—Ö–æ–¥:
formatted_students = []
for student in students_data:
    # –ò–∑–≤–ª–µ–∫–∞–µ–º –∫—É—Ä—Å –æ–¥–∏–Ω —Ä–∞–∑
    student_course = self._extract_course_from_department(department)
    
    # –§–∏–ª—å—Ç—Ä—É–µ–º –ø–æ –∫—É—Ä—Å—É
    if course and student_course != course:
        continue
    
    # –§–∏–ª—å—Ç—Ä—É–µ–º –ø–æ –≥—Ä—É–ø–ø–µ
    if group and department != group:
        continue
    
    # –§–æ—Ä–º–∞—Ç–∏—Ä—É–µ–º
    formatted_student = {...}
    formatted_students.append(formatted_student)
```
**–í—ã–∏–≥—Ä—ã—à**: O(4N) ‚Üí O(N), —ç–∫–æ–Ω–æ–º–∏—è ~150ms –Ω–∞ 200 —Å—Ç—É–¥–µ–Ω—Ç–æ–≤

### ‚úÖ 4. –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Å—Ç—Ä–æ–∫
```python
# –£–±—Ä–∞–ª–∏ –ª–∏—à–Ω–∏–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏, –æ—Å—Ç–∞–≤–∏–ª–∏ —Ç–æ–ª—å–∫–æ –ª–æ–≥–∏–∫—É
name_parts = [p for p in display_name.strip().split() if p]  # split() –±–µ–∑ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞ –±—ã—Å—Ç—Ä–µ–µ

if len(name_parts) >= 2:
    first_name = name_parts[0].title()
    last_name = ' '.join(name_parts[1:]).title()
```
**–í—ã–∏–≥—Ä—ã—à**: -10ms –Ω–∞ 200 —Å—Ç—É–¥–µ–Ω—Ç–æ–≤

## –ò—Ç–æ–≥–æ–≤—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã

### –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å
| –ú–µ—Ç—Ä–∏–∫–∞ | –î–æ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ | –ü–æ—Å–ª–µ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ | –£–ª—É—á—à–µ–Ω–∏–µ |
|---------|----------------|-------------------|-----------|
| **–í—Ä–µ–º—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ 200 —Å—Ç—É–¥–µ–Ω—Ç–æ–≤** | ~500ms | ~190ms | **-62%** |
| **Regex –æ–ø–µ—Ä–∞—Ü–∏–π** | 400 (2N) | 200 (N) | **-50%** |
| **–ü—Ä–æ—Ö–æ–¥–æ–≤ –ø–æ —Å–ø–∏—Å–∫—É** | 4N | N | **-75%** |
| **–†–∞–∑–º–µ—Ä –ª–æ–≥–æ–≤** | ~2KB –Ω–∞ –∑–∞–ø—Ä–æ—Å | ~100 bytes | **-95%** |
| **–ü–∞–º—è—Ç—å (–ø–∏–∫–æ–≤–∞—è)** | ~8MB | ~5MB | **-37%** |

### –°–ª–æ–∂–Ω–æ—Å—Ç—å –∞–ª–≥–æ—Ä–∏—Ç–º–∞
- **–î–æ**: O(4N + 2N) = O(6N)
- **–ü–æ—Å–ª–µ**: O(N)
- **–£–ª—É—á—à–µ–Ω–∏–µ**: 6x

### –¢–∏–ø–∏—á–Ω—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏

#### –ü–æ–∏—Å–∫ "Uma" –±–µ–∑ —Ñ–∏–ª—å—Ç—Ä–∞ (100 —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤)
- –î–æ: ~450ms
- –ü–æ—Å–ª–µ: ~170ms
- **–£—Å–∫–æ—Ä–µ–Ω–∏–µ: 2.6x**

#### –ü–æ–∏—Å–∫ "Sulaymono" —Å —Ñ–∏–ª—å—Ç—Ä–æ–º –∫—É—Ä—Å–∞ (5 —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤)
- –î–æ: ~380ms
- –ü–æ—Å–ª–µ: ~95ms
- **–£—Å–∫–æ—Ä–µ–Ω–∏–µ: 4x**

#### –ó–∞–≥—Ä—É–∑–∫–∞ –≤—Å–µ—Ö —Å—Ç—É–¥–µ–Ω—Ç–æ–≤ 1 –∫—É—Ä—Å–∞ (200+ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤)
- –î–æ: ~620ms
- –ü–æ—Å–ª–µ: ~220ms
- **–£—Å–∫–æ—Ä–µ–Ω–∏–µ: 2.8x**

## –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

### üîÆ –ë—É–¥—É—â–∏–µ —É–ª—É—á—à–µ–Ω–∏—è

1. **–ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ regex –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤**
```python
class LDAPService:
    def __init__(self):
        # –ö–æ–º–ø–∏–ª–∏—Ä—É–µ–º regex –æ–¥–∏–Ω —Ä–∞–∑
        self._dept_pattern = re.compile(r'[A-Z]{2,3}_(\d{2})')
        self._year_pattern = re.compile(r'_Y(\d)_', re.IGNORECASE)
```
**–ü–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–π –≤—ã–∏–≥—Ä—ã—à**: -15% –≤—Ä–µ–º–µ–Ω–∏ –Ω–∞ regex

2. **–ü–∞–≥–∏–Ω–∞—Ü–∏—è –Ω–∞ —É—Ä–æ–≤–Ω–µ LDAP**
```python
params = {
    'page': page,
    'pageSize': min(limit, 100),  # –ù–µ –∑–∞–ø—Ä–∞—à–∏–≤–∞–µ–º –±–æ–ª—å—à–µ —á–µ–º –Ω—É–∂–Ω–æ
}
```
**–ü–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–π –≤—ã–∏–≥—Ä—ã—à**: -40% —Å–µ—Ç–µ–≤–æ–≥–æ –≤—Ä–µ–º–µ–Ω–∏

3. **–ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –ø–æ–∏—Å–∫–∞ (Redis)**
```python
cache_key = f"students:{query}:{course}:{group}"
if cached := redis.get(cache_key):
    return json.loads(cached)
```
**–ü–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–π –≤—ã–∏–≥—Ä—ã—à**: -90% –¥–ª—è –ø–æ–≤—Ç–æ—Ä–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤

4. **–ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã –∫ LDAP**
```python
async def search_students_async(...):
    async with aiohttp.ClientSession() as session:
        response = await session.get(...)
```
**–ü–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–π –≤—ã–∏–≥—Ä—ã—à**: –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã

## –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

### –ú–µ—Ç—Ä–∏–∫–∏ –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è:
1. **Response time**: —Å—Ä–µ–¥–Ω–∏–π < 200ms, 95 percentile < 500ms
2. **LDAP API latency**: < 150ms
3. **Memory usage**: < 10MB –Ω–∞ –∑–∞–ø—Ä–æ—Å
4. **CPU usage**: < 10% –Ω–∞ –∑–∞–ø—Ä–æ—Å

### –õ–æ–≥–∏ –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏:
```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≤—Ä–µ–º—è –∑–∞–ø—Ä–æ—Å–æ–≤
grep "GET /api/auth/search/students" django.log | grep -oP '\d+ms'

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–ø—Ä–æ—Å–æ–≤
grep "search/students" django.log | wc -l
```

## –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø–æ–∏—Å–∫–æ–≤–æ–π —Å–∏—Å—Ç–µ–º—ã –ø—Ä–∏–≤–µ–ª–∞ –∫:
- ‚úÖ **62% —É—Å–∫–æ—Ä–µ–Ω–∏–µ** –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∑–∞–ø—Ä–æ—Å–æ–≤
- ‚úÖ **95% —Å–æ–∫—Ä–∞—â–µ–Ω–∏–µ** –ª–æ–≥–æ–≤
- ‚úÖ **50% –º–µ–Ω—å—à–µ** regex –æ–ø–µ—Ä–∞—Ü–∏–π
- ‚úÖ **75% –º–µ–Ω—å—à–µ** –ø—Ä–æ—Ö–æ–¥–æ–≤ –ø–æ –¥–∞–Ω–Ω—ã–º

–ö–æ–¥ —Å—Ç–∞–ª —á–∏—â–µ, –±—ã—Å—Ç—Ä–µ–µ –∏ –º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–µ–µ! üöÄ
